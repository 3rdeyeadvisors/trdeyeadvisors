<!DOCTYPE html>
<html>
<head>
    <title>Generate 3EA Banner</title>
</head>
<body>
    <h1>Generating 3EA Banner...</h1>
    <div id="result"></div>
    
    <script>
    async function generateBanner() {
        try {
            const response = await fetch('https://zapbkuaejvzpqerkkcnc.supabase.co/functions/v1/generate-social-banner', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InphcGJrdWFlanZ6cHFlcmtrY25jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NjAxMTksImV4cCI6MjA2ODUzNjExOX0.kmzeGjrbpI2qB5UhKoAOoEspxWYGk8UthowEA_f154o'
                },
                body: JSON.stringify({
                    prompt: "Create a professional futuristic social media banner for '3EA' (3rdeyeadvisors) decentralized learning hub. The design should feature: - Large prominent '3EA' text in bold, modern font - Subtitle 'Decentralized Learning Hub' - A network of glowing interconnected bubbles/nodes representing decentralized knowledge - Deep blue and purple gradient background with subtle tech patterns - Holographic effects and lens flares - Professional web3/crypto aesthetic with clean typography - Banner dimensions optimized for social sharing (1792x1024) - High contrast text for readability",
                    size: "1792x1024",
                    quality: "high"
                })
            });

            const data = await response.json();
            
            if (data.data && data.data[0] && data.data[0].url) {
                const img = document.createElement('img');
                img.src = data.data[0].url;
                img.style.maxWidth = '100%';
                document.getElementById('result').appendChild(img);
                
                // Create download link
                const downloadLink = document.createElement('a');
                downloadLink.href = data.data[0].url;
                downloadLink.download = '3ea-social-banner.webp';
                downloadLink.textContent = 'Download Banner';
                downloadLink.style.display = 'block';
                downloadLink.style.marginTop = '10px';
                document.getElementById('result').appendChild(downloadLink);
            } else {
                document.getElementById('result').textContent = 'Error: ' + JSON.stringify(data);
            }
        } catch (error) {
            document.getElementById('result').textContent = 'Error: ' + error.message;
        }
    }
    
    // Generate immediately when page loads
    generateBanner();
    </script>
</body>
</html>